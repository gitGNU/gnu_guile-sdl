This is guile-sdl.info, produced by makeinfo version 4.0 from
guile-sdl.texi.

INFO-DIR-SECTION Guile
START-INFO-DIR-ENTRY
* guile-sdl: (guile-sdl).     SDL for Guile
END-INFO-DIR-ENTRY


File: guile-sdl.info,  Node: Top,  Next: Introduction,  Prev: (dir),  Up: (dir)

   This file documents the guile-sdl library, which is a generic sdl
for Guile.

* Menu:

* Introduction::                What is this all about?
* General SDL::                 General SDL functions
* Video::                       Video and Graphics Functions
* Events::                      Events and Input Handling
* OpenGL::                      OpenGL Interface
* TrueType::                    TrueType Font Support
* Audio::                       Audio Support
* Index::                       Procedure index.


File: guile-sdl.info,  Node: Introduction,  Next: General SDL,  Prev: Top,  Up: Top

Introduction
************

   The guile-sdl library is an interface to the SDL (Simple Direct Media
Layer) library.  The goal is to provide both a clean and direct
interface to the lowest level SDL, while extending with higher level
concepts where useful, such as default arguments and functional-style
application of graphics routines.  Several SDL add-on libraries have
been wrapped and included with guile-sdl, including SDL_image (for
loading multiple image formats), SDL_ttf (for rendering true type
fonts), and SDL_mixer (for playing/mixing different audio formats).  In
addition, some low-level 2D graphics primitives have been provided.

* Menu:

* Quick Start::                A simple example
* Naming Conventions::         Naming conventions


File: guile-sdl.info,  Node: Quick Start,  Prev: Naming Conventions,  Up: Introduction

Quick Start
===========

   To whet your appetite, and hopefully get you excited about the ease
and flexibility of programming with guile-sdl, we begin with a simple
example.  The following program, which can be found in the examples
directory, is a simple image browser.  You can cycle through images by
using space, n or right to go forward, backspace, p or left to go
backwards, and escape or q to quit.

     ;; load the SDL module and some useful srfi's
     (use-modules (sdl sdl)
                  (srfi srfi-1)
                  (srfi srfi-2))
     
     ;; initialize the video subsystem
     (sdl-init sdl-init/video)
     
     ;; directory to search for images in
     (define image-dir "/usr/share/pixmaps/")
     
     ;; utility to test if a path is a directory
     (define (file? f)
       (let* ((stats (stat f))
              (type (stat:type stats)))
         (eq? type 'regular)))
     
     ;; build a ring of image file names
     (define image-ring
       (let ((dir (opendir image-dir)))
         (letrec ((D (lambda (ls)
                       (let ((file (readdir dir)))
                         (if (eof-object? file)
                             (begin (closedir dir) ls)
                             (D (cons (string-append image-dir file)
                                      ls)))))))
           (apply circular-list (reverse (filter file? (D '())))))))
     
     ;; functions to cycle through the ring
     (define (next-image)
       (let ((next (car image-ring)))
         (set! image-ring (cdr image-ring))
         next))
     
     (define (prev-image)
       (let ((orig image-ring))
         (while (not (eq? (cddr image-ring) orig))
           (set! image-ring (cdr image-ring)))
         (let ((image (car image-ring)))
           (set! image-ring (cdr image-ring))
           image)))
     
     ;; display an image given a filename
     (define (show file)
       (and-let* ((image (sdl-load-image file)))
         (sdl-set-video-mode (sdl-surface:w image) (sdl-surface:h image)
                             24 sdl-video/hwsurface)
         (sdl-blit-surface image)
         (sdl-flip)))
     
     ;; show the first image
     (show (next-image))
     
     ;; event handler
     (let handle ((e (sdl-make-event)))
       (if (sdl-wait-event e)
         (case (sdl-event:type e)
           ((event/key-down)
            (case (sdl-event:key:keysym:sym e)
              ((key/left key/backspace)
               (show (prev-image)))
              ((key/right key/space)
               (show (next-image)))
              ((key/escape key/q)
               (sdl-quit)
               (quit))))))
       (handle e))


File: guile-sdl.info,  Node: Naming Conventions,  Next: Quick Start,  Up: Introduction

Naming Conventions
==================

* Menu:

* Renaming C Functions::        How SDL C Functions are named in Guile
* Enums and Constants::         Naming enumerated types
* Create and Make::             Create vs Make Functions

   The most important thing to learning a wrapped library for a
programming language, assuming you know the language and the library,
is to know the naming conventions.  Then you can begin programming
without having to look up the exact function reference for the wrapper
library.


File: guile-sdl.info,  Node: Renaming C Functions,  Next: Enums and Constants,  Up: Naming Conventions

Renaming C Functions
--------------------

   As with standard guile naming conventions, all names are converted to
lower-case, and underscores are replaced with hyphens.  Functions that
modify one or more arguments have an exclamation point (`!') appended,
and functions which ask a question and return a boolean value have a
question mark (`?') appended.


File: guile-sdl.info,  Node: Enums and Constants,  Next: Create and Make,  Prev: Renaming C Functions,  Up: Naming Conventions

Enums and Constants
-------------------

   SDL flags and numeric constants are denoted with a `sdl-type/'
prefix.  So for instance, the `SDL_INIT_FOO' constants are renamed
`sdl-init/foo'.  In a few instances a type prefix has been introduced
where one did not previously exist, to more clearly indicate the symbol
as a constant and document its intent.

   The enumerated types for event types and key symbols are translated
as symbols, for ease of use in `case' statements.  This is not done for
other constants, which are typically flags that need to be joined with
`logior'.


File: guile-sdl.info,  Node: Create and Make,  Prev: Enums and Constants,  Up: Naming Conventions

Create and Make
---------------

   The standard SDL prefix for creating a new instance of a type is
`create'.  The standard Guile prefix is `make'.  Wherever an SDL
function uses the `create' prefix we will keep it.  SMOB creation
functions unique to Guile, such as `sdl-make-rect', will use `make' as
a prefix.  In addition, we will sometimes introduce higher-level
creation functions, such as `sdl-make-surface', which is a wrapper to
`sdl-create-rgb-surface' which provides useful default values from the
current screen information.


File: guile-sdl.info,  Node: General SDL,  Next: Video,  Prev: Introduction,  Up: Top

General SDL
***********


File: guile-sdl.info,  Node: Video,  Next: Events,  Prev: General SDL,  Up: Top

Video
*****


File: guile-sdl.info,  Node: Events,  Next: OpenGL,  Prev: Video,  Up: Top

Events
******


File: guile-sdl.info,  Node: OpenGL,  Next: TrueType,  Prev: Events,  Up: Top

OpenGL
******


File: guile-sdl.info,  Node: TrueType,  Next: Audio,  Prev: OpenGL,  Up: Top

TrueType
********


File: guile-sdl.info,  Node: Audio,  Next: Index,  Prev: TrueType,  Up: Top

Audio
*****


File: guile-sdl.info,  Node: Index,  Prev: Audio,  Up: Top

Index
*****

* Menu:


Tag Table:
Node: Top187
Node: Introduction788
Node: Quick Start1629
Node: Naming Conventions4377
Node: Renaming C Functions4982
Node: Enums and Constants5446
Node: Create and Make6157
Node: General SDL6796
Node: Video6910
Node: Events7006
Node: OpenGL7099
Node: TrueType7195
Node: Audio7294
Node: Index7386

End Tag Table
