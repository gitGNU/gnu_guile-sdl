## am/snarfing --- init and documentation snarfing

snarfcppopts	= $(DEFS) -I. -I.. $(AM_CPPFLAGS) $(CPPFLAGS)
c2doc		= guile-tools c2doc
mkdocindex	= guile-tools make-twerp2texi-index
dotdocfiles	= $(WRAPPER_SOURCES:.c=.doc)

.c.x:
	$(c2x) -o $@ $< $(snarfcppopts)

.c.doc:
	$(c2doc) -o $@ $< -- $(snarfcppopts)

.doc-index: $(dotdocfiles)
	$(mkdocindex) -o $@ $(dotdocfiles)

## vars significant to automake
SUFFIXES	+= .x .doc
DISTCLEANFILES	+= *.x
if MAINTAINER_MODE
noinst_DATA	+= .doc-index
endif ## MAINTAINER_MODE

## Local variables:
## mode: makefile
## End:

## am/snarfing ends here
